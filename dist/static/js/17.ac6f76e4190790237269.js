webpackJsonp([17],{ORCj:function(e,a){},oBi2:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("3cXf"),n=t.n(s),i=(t("GKmE"),{name:"detailsAction",data:function(){return{name:"",gender:"",identityNo:"",mobilePhone:"",companyName:"",employeeNo:"",setMealAlias:"",checkupDate:"",stateName:"",orderNo:"",date:"",canceler:"",cancelReason:"",logs:[],detailsAction:"",reservationNO:"",memos:this.$route.params.reservation,memosData:"",cancel:this.$route.params.reservation,hasMemos:this.$route.params.isCheat,changeOrder:!1}},created:function(){this.reservationNO=this.$route.params.reservation},mounted:function(){var e=document.body.clientHeight;document.getElementById("detail-container").style.height=e+"px",this.getReservation(),this.logs=this.quickSort(this.logs,"creatAt",!1)},methods:{quickSort:function(e,a,t){if(e.length<=1)return e;var s=Math.floor(e.length/2),n=e.splice(s,1)[0],i=n[a],c=[],o=[];if(t)for(var r=0;r<e.length;r++)Number(e[r][a])<=Number(i)?c.push(e[r]):o.push(e[r]);else for(r=0;r<e.length;r++)e[r][a]<=i?c.push(e[r]):o.push(e[r]);return this.quickSort(c,a,t).concat([n],this.quickSort(o,a,t))},getReservation:function(){var e=this;this.$http.get("/hospital/reservation/"+this.reservationNO,{}).then(function(a){var t=a.data.data;e.detailsAction=t,e.name=t.name?t.name:"",e.gender=t.gender?t.gender:"",e.identityNo=t.identityNo,e.mobilePhone=t.mobilePhone,e.companyName=t.companyName,e.employeeNo=t.employeeNo,e.setMealAlias=t.setMealAlias,e.checkupDate=t.checkupDate,e.stateName=t.stateName,e.reservationNO=t.reservationNO,e.date=t.date,e.canceler=e.canceler,e.cancelReason=e.cancelReason,e.logs=t.logs})},getMemosData:function(){var e=this;this.$http.get("/hospital/reservation/"+this.cancel+"/memos",{}).then(function(a){e.memosData=a.data.data.memos,e.$router.push("/appointment/make/cheat/"+e.memos+"/"+encodeURIComponent(n()(e.memosData)))})},getEditCancel:function(){var e=this;this.$http.put("/hospital/reservation/"+this.cancel+"/cancel",{}).then(function(a){e.stateName="已取消",e.$router.push("/appointment/make/because/"+e.cancel+"/0")})}}}),c={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"order-detail-container",attrs:{id:"detail-container"}},[t("div",{class:e.name||e.gender||e.identityNo||e.mobilePhone?"card user-message clearfix":"hidden"},[t("p",{staticClass:"mark"},[e.name?t("span",[e._v("姓名：")]):e._e(),e._v(" "),e.gender?t("span",[e._v("性别：")]):e._e(),e._v(" "),e.identityNo?t("span",[e._v("身份证号：")]):e._e(),e._v(" "),e.mobilePhone?t("span",[e._v("联系电话：")]):e._e()]),e._v(" "),t("p",{staticClass:"result"},[e.name?t("span",[e._v(e._s(e.name))]):e._e(),e._v(" "),e.gender?t("span",[e._v(e._s(e.gender))]):e._e(),e._v(" "),e.identityNo?t("span",[e._v(e._s(e.identityNo))]):e._e(),e._v(" "),e.mobilePhone?t("span",[e._v(e._s(e.mobilePhone))]):e._e()])]),e._v(" "),t("div",{class:e.companyName||e.employeeNo?"card hos-message clearfix":"hidden"},[t("p",{staticClass:"mark"},[e.companyName?t("span",[e._v("公司名称：")]):e._e(),e._v(" "),e.employeeNo?t("span",[e._v("员工号：")]):e._e()]),t("p",{staticClass:"result"},[e.companyName?t("span",[e._v(e._s(e.companyName))]):e._e(),e._v(" "),e.employeeNo?t("span",[e._v(e._s(e.employeeNo))]):e._e()])]),e._v(" "),t("div",{class:e.setMealAlias||e.checkupDate||e.stateName?"card hos-message clearfix":"hidden"},[t("p",{staticClass:"mark"},[e.setMealAlias?t("span",[e._v("套餐：")]):e._e(),e._v(" "),e.checkupDate?t("span",[e._v("体检日期：")]):e._e(),e._v(" "),e.stateName?t("span",[e._v("状态：")]):e._e()]),t("p",{staticClass:"result"},[e.setMealAlias?t("span",[e._v(e._s(e.setMealAlias))]):e._e(),e._v(" "),e.checkupDate?t("span",[e._v(e._s(e.checkupDate))]):e._e(),e._v(" "),e.stateName?t("span",[e._v(e._s(e.stateName))]):e._e()])]),e._v(" "),t("div",{class:e.reservationNO||e.date||e.canceler||e.cancelReason?"card hos-message clearfix":"hidden"},[t("p",{staticClass:"mark"},[e.reservationNO?t("span",[e._v("订单编号：")]):e._e(),e._v(" "),e.date?t("span",[e._v("订单创建日期：")]):e._e(),e._v(" "),e.canceler?t("span",[e._v("取消人：")]):e._e(),e._v(" "),e.cancelReason?t("span",[e._v("取消原因：")]):e._e()]),t("p",{staticClass:"result"},[e.reservationNO?t("span",[e._v(e._s(e.reservationNO))]):e._e(),e._v(" "),e.date?t("span",[e._v(e._s(e.date))]):e._e(),e._v(" "),e.canceler?t("span",[e._v(e._s(e.canceler))]):e._e(),e._v(" "),e.cancelReason?t("span",[e._v(e._s(e.cancelReason))]):e._e()])]),e._v(" "),"待体检"==e.stateName?t("div",{staticClass:"unable-message",on:{click:function(a){e.changeOrder=!0}}},[e._v("无法预约")]):e._e(),e._v(" "),e.name?t("div",{staticClass:"add-cheat",on:{click:e.getMemosData}},[e._v("添加备忘")]):e._e(),e._v(" "),"true"==e.hasMemos&&e.name?t("div",{class:"true"==e.hasMemos?"add-cheat active":"add-cheat",on:{click:e.getMemosData}},[e._v("查看备忘")]):e._e(),e._v(" "),e.changeOrder?t("div",{staticClass:"mask"},[t("div",[t("p",[e._v("取消预约")]),e._v(" "),t("p",{staticClass:"margin-b"},[e._v("确定取消预约？是否可以再争取一下？")]),e._v(" "),t("p",{staticClass:"flex"},[t("span",{staticClass:"confirm",on:{click:e.getEditCancel}},[e._v("确认")]),e._v(" "),t("span",{staticClass:"tel",on:{click:function(a){e.changeOrder=!1}}},[e._v("\n              再争取一下\n        ")])])])]):e._e(),e._v(" "),t("div",{staticClass:"action-status"},[t("ul",e._l(e.logs,function(a){return t("li",{staticClass:"action-item"},[t("span",[e._v(e._s(a.creatAt))]),e._v(" "),t("span",[e._v(e._s(a.operatorName)+" 操作了")]),e._v(" "),t("span",[e._v(e._s(a.operate))])])}))]),e._v(" "),e.detailsAction.length?t("div",{staticClass:"noneAppoint"},[e._v("暂无详细信息")]):e._e()])},staticRenderFns:[]};var o=t("Z0/y")(i,c,!1,function(e){t("ORCj")},"data-v-6ee035ae",null);a.default=o.exports}});
//# sourceMappingURL=17.ac6f76e4190790237269.js.map