webpackJsonp([21],{"7REE":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("GKmE"),n={components:{captchaBox:o("Wuyz").a},data:function(){return{mobilePhone:"",captchaToken:"",showCaptcha:!1}},methods:{next:function(){console.log(1),Object(a.a)(this.mobilePhone)?this.verifyTel(this.mobilePhone):this.$toast({type:"text",message:"请输入正确的手机号",duration:2e3})},verifyTel:function(e){var t=this,o=this.$toast({type:"loading",shadow:!0,duration:0,message:"正在加载"});this.$http.get("/hospital/login/verify-mobile-phone?mobilePhone="+e,{mobilePhone:this.mobilePhone}).then(function(e){console.log(e),e.data.data.isRegister?t.getCode(function(){o.close()}):(o.close(),t.$toast({type:"text",message:"手机号未注册，请注册"}))}).catch(function(e){o.close()})},verifySuccess:function(){console.log("验证成功"),this.$router.push({path:"/user/forgetPwd/check-number/"+this.mobilePhone})},hideCaptcha:function(e){this.showCaptcha=!e},getCode:function(e){var t=this;this.$http.post("/hospital/login/get-verification-code",{mobilePhone:this.mobilePhone}).then(function(o){0===o.data.rc?o.data.data.isHaveCaptcha?(t.captchaToken=o.data.data.captchaToken,t.showCaptcha=!0):t.$router.push({path:"/user/forgetPwd/check-number/"+t.mobilePhone}):t.$toast({type:"text",message:o.data.msg}),e&&e()})}},mounted:function(){}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"forgetPwd-container"},[o("h2",[e._v("忘记密码")]),e._v(" "),o("p",[e._v("请输入您的手机号码")]),e._v(" "),o("div",{staticClass:"input-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobilePhone,expression:"mobilePhone"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.mobilePhone},on:{input:function(t){t.target.composing||(e.mobilePhone=t.target.value)}}})]),e._v(" "),o("button",{staticClass:"next-button",attrs:{disabled:e.mobilePhone.length<=0},on:{click:e.next}},[e._v("下一步")]),e._v(" "),e.showCaptcha?o("captcha-box",{attrs:{captchaToken:e.captchaToken},on:{verifySuccess:e.verifySuccess,hideCaptcha:e.hideCaptcha}}):e._e()],1)},staticRenderFns:[]};var s=o("Z0/y")(n,i,!1,function(e){o("i7OH")},null,null);t.default=s.exports},i7OH:function(e,t){}});
//# sourceMappingURL=21.1575bf65b910fb4e26db.js.map